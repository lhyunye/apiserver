{"remainingRequest":"E:\\gitData\\wangfuj\\jeecg-boot\\ant-design-vue-jeecg\\node_modules\\thread-loader\\dist\\cjs.js!E:\\gitData\\wangfuj\\jeecg-boot\\ant-design-vue-jeecg\\node_modules\\babel-loader\\lib\\index.js!E:\\gitData\\wangfuj\\jeecg-boot\\ant-design-vue-jeecg\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\gitData\\wangfuj\\jeecg-boot\\ant-design-vue-jeecg\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\gitData\\wangfuj\\jeecg-boot\\ant-design-vue-jeecg\\src\\views\\modules\\oss\\OSSFileList.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\gitData\\wangfuj\\jeecg-boot\\ant-design-vue-jeecg\\src\\views\\modules\\oss\\OSSFileList.vue","mtime":1618453704987},{"path":"E:\\gitData\\wangfuj\\jeecg-boot\\ant-design-vue-jeecg\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1605147250913},{"path":"E:\\gitData\\wangfuj\\jeecg-boot\\ant-design-vue-jeecg\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1605147255423},{"path":"E:\\gitData\\wangfuj\\jeecg-boot\\ant-design-vue-jeecg\\node_modules\\babel-loader\\lib\\index.js","mtime":1618457261991},{"path":"E:\\gitData\\wangfuj\\jeecg-boot\\ant-design-vue-jeecg\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1605147250913},{"path":"E:\\gitData\\wangfuj\\jeecg-boot\\ant-design-vue-jeecg\\node_modules\\vue-loader\\lib\\index.js","mtime":1618457253212}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { JeecgListMixin } from '@/mixins/JeecgListMixin';\nexport default {\n  name: \"OSSFileList\",\n  mixins: [JeecgListMixin],\n  data: function data() {\n    return {\n      description: '文件列表',\n      // 表头\n      columns: [{\n        title: '#',\n        dataIndex: '',\n        key: 'rowIndex',\n        width: 60,\n        align: \"center\",\n        customRender: function customRender(t, r, index) {\n          return parseInt(index) + 1;\n        }\n      }, {\n        title: '文件名称',\n        align: \"center\",\n        dataIndex: 'fileName'\n      }, {\n        title: '文件地址',\n        align: \"center\",\n        dataIndex: 'url'\n      }, {\n        title: '操作',\n        dataIndex: 'action',\n        align: \"center\",\n        scopedSlots: {\n          customRender: 'action'\n        }\n      }],\n      url: {\n        upload: \"/oss/file/upload\",\n        list: \"/oss/file/list\",\n        delete: \"/oss/file/delete\",\n        minioUpload: \"/sys/upload/uploadMinio\"\n      }\n    };\n  },\n  computed: {\n    uploadAction: function uploadAction() {\n      return window._CONFIG['domianURL'] + this.url.upload;\n    },\n    minioUploadAction: function minioUploadAction() {\n      return window._CONFIG['domianURL'] + this.url.minioUpload;\n    }\n  },\n  methods: {\n    beforeUpload: function beforeUpload(file) {\n      var fileType = file.type;\n\n      if (fileType === 'image') {\n        if (fileType.indexOf('image') < 0) {\n          this.$message.warning('请上传图片');\n          return false;\n        }\n      } else if (fileType === 'file') {\n        if (fileType.indexOf('image') >= 0) {\n          this.$message.warning('请上传文件');\n          return false;\n        }\n      }\n\n      return true;\n    },\n    handleChange: function handleChange(info) {\n      if (info.file.status === 'done') {\n        if (info.file.response.success) {\n          this.loadData();\n          this.$message.success(\"\".concat(info.file.name, \" \\u4E0A\\u4F20\\u6210\\u529F!\"));\n        } else {\n          this.$message.error(\"\".concat(info.file.response.message));\n        }\n      } else if (info.file.status === 'error') {\n        this.$message.error(\"\".concat(info.file.response.message));\n      }\n    },\n    ossDelete: function ossDelete(id) {\n      var that = this;\n      that.$confirm({\n        title: \"确认删除\",\n        content: \"是否删除选中文件?\",\n        onOk: function onOk() {\n          that.handleDelete(id);\n        }\n      });\n    },\n    handlePreview: function handlePreview(record) {\n      if (record && record.url) {\n        var url = window._CONFIG['onlinePreviewDomainURL'] + '?url=' + encodeURIComponent(record.url);\n        window.open(url, '_blank');\n      }\n    }\n  }\n};",null]}