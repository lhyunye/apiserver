{"remainingRequest":"E:\\gitData\\wangfuj\\jeecg-boot\\ant-design-vue-jeecg\\node_modules\\babel-loader\\lib\\index.js!E:\\gitData\\wangfuj\\jeecg-boot\\ant-design-vue-jeecg\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js??ref--13-0!E:\\gitData\\wangfuj\\jeecg-boot\\ant-design-vue-jeecg\\src\\utils\\util.js","dependencies":[{"path":"E:\\gitData\\wangfuj\\jeecg-boot\\ant-design-vue-jeecg\\src\\utils\\util.js","mtime":1618453704933},{"path":"E:\\gitData\\wangfuj\\jeecg-boot\\ant-design-vue-jeecg\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1605147250913},{"path":"E:\\gitData\\wangfuj\\jeecg-boot\\ant-design-vue-jeecg\\node_modules\\babel-loader\\lib\\index.js","mtime":1618457261991},{"path":"E:\\gitData\\wangfuj\\jeecg-boot\\ant-design-vue-jeecg\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js","mtime":1605147242017}],"contextDependencies":[],"result":["import \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.array.from\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.function.name\";\nimport _toConsumableArray from \"E:/gitData/wangfuj/jeecg-boot/ant-design-vue-jeecg/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport \"core-js/modules/es6.regexp.constructor\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport _typeof from \"E:/gitData/wangfuj/jeecg-boot/ant-design-vue-jeecg/node_modules/@babel/runtime/helpers/esm/typeof\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport * as api from '@/api/api';\nimport { isURL } from '@/utils/validate';\nexport function timeFix() {\n  var time = new Date();\n  var hour = time.getHours();\n  return hour < 9 ? '早上好' : hour <= 11 ? '上午好' : hour <= 13 ? '中午好' : hour < 20 ? '下午好' : '晚上好';\n}\nexport function welcome() {\n  var arr = ['休息一会儿吧', '准备吃什么呢?', '要不要打一把 DOTA', '我猜你可能累了'];\n  var index = Math.floor(Math.random() * arr.length);\n  return arr[index];\n}\n/**\r\n * 触发 window.resize\r\n */\n\nexport function triggerWindowResizeEvent() {\n  var event = document.createEvent('HTMLEvents');\n  event.initEvent('resize', true, true);\n  event.eventType = 'message';\n  window.dispatchEvent(event);\n}\n/**\r\n * 过滤对象中为空的属性\r\n * @param obj\r\n * @returns {*}\r\n */\n\nexport function filterObj(obj) {\n  if (!(_typeof(obj) == 'object')) {\n    return;\n  }\n\n  for (var key in obj) {\n    if (obj.hasOwnProperty(key) && (obj[key] == null || obj[key] == undefined || obj[key] === '')) {\n      delete obj[key];\n    }\n  }\n\n  return obj;\n}\n/**\r\n * 时间格式化\r\n * @param value\r\n * @param fmt\r\n * @returns {*}\r\n */\n\nexport function formatDate(value, fmt) {\n  var regPos = /^\\d+(\\.\\d+)?$/;\n\n  if (regPos.test(value)) {\n    //如果是数字\n    var getDate = new Date(value);\n    var o = {\n      'M+': getDate.getMonth() + 1,\n      'd+': getDate.getDate(),\n      'h+': getDate.getHours(),\n      'm+': getDate.getMinutes(),\n      's+': getDate.getSeconds(),\n      'q+': Math.floor((getDate.getMonth() + 3) / 3),\n      'S': getDate.getMilliseconds()\n    };\n\n    if (/(y+)/.test(fmt)) {\n      fmt = fmt.replace(RegExp.$1, (getDate.getFullYear() + '').substr(4 - RegExp.$1.length));\n    }\n\n    for (var k in o) {\n      if (new RegExp('(' + k + ')').test(fmt)) {\n        fmt = fmt.replace(RegExp.$1, RegExp.$1.length === 1 ? o[k] : ('00' + o[k]).substr(('' + o[k]).length));\n      }\n    }\n\n    return fmt;\n  } else {\n    //TODO\n    value = value.trim();\n    return value.substr(0, fmt.length);\n  }\n} // 生成首页路由\n\nexport function generateIndexRouter(data) {\n  var indexRouter = [{\n    path: '/',\n    name: 'dashboard',\n    //component: () => import('@/components/layouts/BasicLayout'),\n    component: function component(resolve) {\n      return require(['@/components/layouts/TabLayout'], resolve);\n    },\n    meta: {\n      title: '首页'\n    },\n    redirect: '/dashboard/analysis',\n    children: _toConsumableArray(generateChildRouters(data))\n  }, {\n    \"path\": \"*\",\n    \"redirect\": \"/404\",\n    \"hidden\": true\n  }];\n  return indexRouter;\n} // 生成嵌套路由（子路由）\n\nfunction generateChildRouters(data) {\n  var routers = [];\n\n  var _iterator = _createForOfIteratorHelper(data),\n      _step;\n\n  try {\n    var _loop = function _loop() {\n      item = _step.value;\n      var _component = \"\";\n\n      if (item.component.indexOf(\"layouts\") >= 0) {\n        _component = \"components/\" + item.component;\n      } else {\n        _component = \"views/\" + item.component;\n      } // eslint-disable-next-line\n\n\n      var URL = (item.meta.url || '').replace(/{{([^}}]+)?}}/g, function (s1, s2) {\n        return eval(s2);\n      }); // URL支持{{ window.xxx }}占位符变量\n\n      if (isURL(URL)) {\n        item.meta.url = URL;\n      }\n\n      var menu = {\n        path: item.path,\n        name: item.name,\n        redirect: item.redirect,\n        component: function component(resolve) {\n          return require(['@/' + _component + '.vue'], resolve);\n        },\n        hidden: item.hidden,\n        //component:()=> import(`@/views/${item.component}.vue`),\n        meta: {\n          title: item.meta.title,\n          icon: item.meta.icon,\n          url: item.meta.url,\n          permissionList: item.meta.permissionList,\n          keepAlive: item.meta.keepAlive,\n\n          /*update_begin author:wuxianquan date:20190908 for:赋值 */\n          internalOrExternal: item.meta.internalOrExternal\n          /*update_end author:wuxianquan date:20190908 for:赋值 */\n\n        }\n      };\n\n      if (item.alwaysShow) {\n        menu.alwaysShow = true;\n        menu.redirect = menu.path;\n      }\n\n      if (item.children && item.children.length > 0) {\n        menu.children = _toConsumableArray(generateChildRouters(item.children));\n      } //--update-begin----author:scott---date:20190320------for:根据后台菜单配置，判断是否路由菜单字段，动态选择是否生成路由（为了支持参数URL菜单）------\n      //判断是否生成路由\n\n\n      if (item.route && item.route === '0') {//console.log(' 不生成路由 item.route：  '+item.route);\n        //console.log(' 不生成路由 item.path：  '+item.path);\n      } else {\n        routers.push(menu);\n      } //--update-end----author:scott---date:20190320------for:根据后台菜单配置，判断是否路由菜单字段，动态选择是否生成路由（为了支持参数URL菜单）------\n\n    };\n\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var item;\n\n      _loop();\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  return routers;\n}\n/**\r\n * 深度克隆对象、数组\r\n * @param obj 被克隆的对象\r\n * @return 克隆后的对象\r\n */\n\n\nexport function cloneObject(obj) {\n  return JSON.parse(JSON.stringify(obj));\n}\n/**\r\n * 随机生成数字\r\n *\r\n * 示例：生成长度为 12 的随机数：randomNumber(12)\r\n * 示例：生成 3~23 之间的随机数：randomNumber(3, 23)\r\n *\r\n * @param1 最小值 | 长度\r\n * @param2 最大值\r\n * @return int 生成后的数字\r\n */\n\nexport function randomNumber() {\n  // 生成 最小值 到 最大值 区间的随机数\n  var random = function random(min, max) {\n    return Math.floor(Math.random() * (max - min + 1) + min);\n  };\n\n  if (arguments.length === 1) {\n    var _arguments = Array.prototype.slice.call(arguments),\n        length = _arguments[0]; // 生成指定长度的随机数字，首位一定不是 0\n\n\n    var nums = _toConsumableArray(Array(length).keys()).map(function (i) {\n      return i > 0 ? random(0, 9) : random(1, 9);\n    });\n\n    return parseInt(nums.join(''));\n  } else if (arguments.length >= 2) {\n    var _arguments2 = Array.prototype.slice.call(arguments),\n        min = _arguments2[0],\n        max = _arguments2[1];\n\n    return random(min, max);\n  } else {\n    return Number.NaN;\n  }\n}\n/**\r\n * 随机生成字符串\r\n * @param length 字符串的长度\r\n * @param chats 可选字符串区间（只会生成传入的字符串中的字符）\r\n * @return string 生成的字符串\r\n */\n\nexport function randomString(length, chats) {\n  if (!length) length = 1;\n  if (!chats) chats = '0123456789qwertyuioplkjhgfdsazxcvbnm';\n  var str = '';\n\n  for (var i = 0; i < length; i++) {\n    var num = randomNumber(0, chats.length - 1);\n    str += chats[num];\n  }\n\n  return str;\n}\n/**\r\n * 随机生成uuid\r\n * @return string 生成的uuid\r\n */\n\nexport function randomUUID() {\n  var chats = '0123456789abcdef';\n  return randomString(32, chats);\n}\n/**\r\n * 下划线转驼峰\r\n * @param string\r\n * @returns {*}\r\n */\n\nexport function underLine2CamelCase(string) {\n  return string.replace(/_([a-z])/g, function (all, letter) {\n    return letter.toUpperCase();\n  });\n}\n/**\r\n * 判断是否显示办理按钮\r\n * @param bpmStatus\r\n * @returns {*}\r\n */\n\nexport function showDealBtn(bpmStatus) {\n  if (bpmStatus != \"1\" && bpmStatus != \"3\" && bpmStatus != \"4\") {\n    return true;\n  }\n\n  return false;\n}\n/**\r\n * 增强CSS，可以在页面上输出全局css\r\n * @param css 要增强的css\r\n * @param id style标签的id，可以用来清除旧样式\r\n */\n\nexport function cssExpand(css, id) {\n  var style = document.createElement('style');\n  style.type = \"text/css\";\n  style.innerHTML = \"@charset \\\"UTF-8\\\"; \".concat(css); // 清除旧样式\n\n  if (id) {\n    var $style = document.getElementById(id);\n    if ($style != null) $style.outerHTML = '';\n    style.id = id;\n  } // 应用新样式\n\n\n  document.head.appendChild(style);\n}\n/** 用于js增强事件，运行JS代码，可以传参 */\n// options 所需参数：\n//    参数名         类型            说明\n//    vm             VueComponent    vue实例\n//    event          Object          event对象\n//    jsCode         String          待执行的js代码\n//    errorMessage   String          执行出错后的提示（控制台）\n\nexport function jsExpand() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  // 绑定到window上的keyName\n  var windowKeyName = 'J_CLICK_EVENT_OPTIONS';\n\n  if (_typeof(window[windowKeyName]) != 'object') {\n    window[windowKeyName] = {};\n  } // 随机生成JS增强的执行id，防止冲突\n\n\n  var id = randomString(16, 'qwertyuioplkjhgfdsazxcvbnm'.toUpperCase()); // 封装按钮点击事件\n\n  var code = \"\\n    (function (o_\".concat(id, \") {\\n      try {\\n        (function (globalEvent, vm) {\\n          \").concat(options.jsCode, \"\\n        })(o_\").concat(id, \".event, o_\").concat(id, \".vm)\\n      } catch (e) {\\n        o_\").concat(id, \".error(e)\\n      }\\n      o_\").concat(id, \".done()\\n    })(window['\").concat(windowKeyName, \"']['EVENT_\").concat(id, \"'])\\n  \"); // 创建script标签\n\n  var script = document.createElement('script'); // 将需要传递的参数挂载到window对象上\n\n  window[windowKeyName]['EVENT_' + id] = {\n    vm: options.vm,\n    event: options.event,\n    // 当执行完成时，无论如何都会调用的回调事件\n    done: function done() {\n      // 执行完后删除新增的 script 标签不会撤销执行结果（已产生的结果不会被撤销）\n      script.outerHTML = '';\n      delete window[windowKeyName]['EVENT_' + id];\n    },\n    // 当js运行出错的时候调用的事件\n    error: function error(e) {\n      console.group(\"\".concat(options.errorMessage || '用户自定义JS增强代码运行出错', \"\\uFF08\").concat(new Date(), \"\\uFF09\"));\n      console.error(e);\n      console.groupEnd();\n    }\n  }; // 将事件挂载到document中\n\n  script.innerHTML = code;\n  document.body.appendChild(script);\n}\n/**\r\n * 重复值验证工具方法\r\n *\r\n * 使用示例：\r\n * { validator: (rule, value, callback) => validateDuplicateValue('sys_fill_rule', 'rule_code', value, this.model.id, callback) }\r\n *\r\n * @param tableName 被验证的表名\r\n * @param fieldName 被验证的字段名\r\n * @param fieldVal 被验证的值\r\n * @param dataId 数据ID，可空\r\n * @param callback\r\n */\n\nexport function validateDuplicateValue(tableName, fieldName, fieldVal, dataId, callback) {\n  if (fieldVal) {\n    var params = {\n      tableName: tableName,\n      fieldName: fieldName,\n      fieldVal: fieldVal,\n      dataId: dataId\n    };\n    api.duplicateCheck(params).then(function (res) {\n      res['success'] ? callback() : callback(res['message']);\n    }).catch(function (err) {\n      callback(err.message || err);\n    });\n  } else {\n    callback();\n  }\n}\n/**\r\n * 根据编码校验规则code，校验传入的值是否合法\r\n *\r\n * 使用示例：\r\n * { validator: (rule, value, callback) => validateCheckRule('common', value, callback) }\r\n *\r\n * @param ruleCode 编码校验规则 code\r\n * @param value 被验证的值\r\n * @param callback\r\n */\n\nexport function validateCheckRule(ruleCode, value, callback) {\n  if (ruleCode && value) {\n    value = encodeURIComponent(value);\n    api.checkRuleByCode({\n      ruleCode: ruleCode,\n      value: value\n    }).then(function (res) {\n      res['success'] ? callback() : callback(res['message']);\n    }).catch(function (err) {\n      callback(err.message || err);\n    });\n  } else {\n    callback();\n  }\n}\n/**\r\n * 如果值不存在就 push 进数组，反之不处理\r\n * @param array 要操作的数据\r\n * @param value 要添加的值\r\n * @param key 可空，如果比较的是对象，可能存在地址不一样但值实际上是一样的情况，可以传此字段判断对象中唯一的字段，例如 id。不传则直接比较实际值\r\n * @returns {boolean} 成功 push 返回 true，不处理返回 false\r\n */\n\nexport function pushIfNotExist(array, value, key) {\n  var _iterator2 = _createForOfIteratorHelper(array),\n      _step2;\n\n  try {\n    for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n      var item = _step2.value;\n\n      if (key && item[key] === value[key]) {\n        return false;\n      } else if (item === value) {\n        return false;\n      }\n    }\n  } catch (err) {\n    _iterator2.e(err);\n  } finally {\n    _iterator2.f();\n  }\n\n  array.push(value);\n  return true;\n}\n/**\r\n * 可用于判断是否成功\r\n * @type {symbol}\r\n */\n\nexport var succeedSymbol = Symbol();\n/**\r\n * 可用于判断是否失败\r\n * @type {symbol}\r\n */\n\nexport var failedSymbol = Symbol();\n/**\r\n * 使 promise 无论如何都会 resolve，除非传入的参数不是一个Promise对象或返回Promise对象的方法\r\n * 一般用在 Promise.all 中\r\n *\r\n * @param promise 可传Promise对象或返回Promise对象的方法\r\n * @returns {Promise<any>}\r\n */\n\nexport function alwaysResolve(promise) {\n  return new Promise(function (resolve, reject) {\n    var p = promise;\n\n    if (typeof promise === 'function') {\n      p = promise();\n    }\n\n    if (p instanceof Promise) {\n      p.then(function (data) {\n        resolve({\n          type: succeedSymbol,\n          data: data\n        });\n      }).catch(function (error) {\n        resolve({\n          type: failedSymbol,\n          error: error\n        });\n      });\n    } else {\n      reject('alwaysResolve: 传入的参数不是一个Promise对象或返回Promise对象的方法');\n    }\n  });\n}",{"version":3,"sources":["E:/gitData/wangfuj/jeecg-boot/ant-design-vue-jeecg/src/utils/util.js"],"names":["api","isURL","timeFix","time","Date","hour","getHours","welcome","arr","index","Math","floor","random","length","triggerWindowResizeEvent","event","document","createEvent","initEvent","eventType","window","dispatchEvent","filterObj","obj","key","hasOwnProperty","undefined","formatDate","value","fmt","regPos","test","getDate","o","getMonth","getMinutes","getSeconds","getMilliseconds","replace","RegExp","$1","getFullYear","substr","k","trim","generateIndexRouter","data","indexRouter","path","name","component","resolve","require","meta","title","redirect","children","generateChildRouters","routers","item","indexOf","URL","url","s1","s2","eval","menu","hidden","icon","permissionList","keepAlive","internalOrExternal","alwaysShow","route","push","cloneObject","JSON","parse","stringify","randomNumber","min","max","arguments","nums","Array","keys","map","i","parseInt","join","Number","NaN","randomString","chats","str","num","randomUUID","underLine2CamelCase","string","all","letter","toUpperCase","showDealBtn","bpmStatus","cssExpand","css","id","style","createElement","type","innerHTML","$style","getElementById","outerHTML","head","appendChild","jsExpand","options","windowKeyName","code","jsCode","script","vm","done","error","e","console","group","errorMessage","groupEnd","body","validateDuplicateValue","tableName","fieldName","fieldVal","dataId","callback","params","duplicateCheck","then","res","catch","err","message","validateCheckRule","ruleCode","encodeURIComponent","checkRuleByCode","pushIfNotExist","array","succeedSymbol","Symbol","failedSymbol","alwaysResolve","promise","Promise","reject","p"],"mappings":"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","sourcesContent":["import * as api from '@/api/api'\r\nimport { isURL } from '@/utils/validate'\r\n\r\nexport function timeFix() {\r\n  const time = new Date()\r\n  const hour = time.getHours()\r\n  return hour < 9 ? '早上好' : (hour <= 11 ? '上午好' : (hour <= 13 ? '中午好' : (hour < 20 ? '下午好' : '晚上好')))\r\n}\r\n\r\nexport function welcome() {\r\n  const arr = ['休息一会儿吧', '准备吃什么呢?', '要不要打一把 DOTA', '我猜你可能累了']\r\n  let index = Math.floor((Math.random()*arr.length))\r\n  return arr[index]\r\n}\r\n\r\n/**\r\n * 触发 window.resize\r\n */\r\nexport function triggerWindowResizeEvent() {\r\n  let event = document.createEvent('HTMLEvents')\r\n  event.initEvent('resize', true, true)\r\n  event.eventType = 'message'\r\n  window.dispatchEvent(event)\r\n}\r\n\r\n/**\r\n * 过滤对象中为空的属性\r\n * @param obj\r\n * @returns {*}\r\n */\r\nexport function filterObj(obj) {\r\n  if (!(typeof obj == 'object')) {\r\n    return;\r\n  }\r\n\r\n  for ( var key in obj) {\r\n    if (obj.hasOwnProperty(key)\r\n      && (obj[key] == null || obj[key] == undefined || obj[key] === '')) {\r\n      delete obj[key];\r\n    }\r\n  }\r\n  return obj;\r\n}\r\n\r\n/**\r\n * 时间格式化\r\n * @param value\r\n * @param fmt\r\n * @returns {*}\r\n */\r\nexport function formatDate(value, fmt) {\r\n  var regPos = /^\\d+(\\.\\d+)?$/;\r\n  if(regPos.test(value)){\r\n    //如果是数字\r\n    let getDate = new Date(value);\r\n    let o = {\r\n      'M+': getDate.getMonth() + 1,\r\n      'd+': getDate.getDate(),\r\n      'h+': getDate.getHours(),\r\n      'm+': getDate.getMinutes(),\r\n      's+': getDate.getSeconds(),\r\n      'q+': Math.floor((getDate.getMonth() + 3) / 3),\r\n      'S': getDate.getMilliseconds()\r\n    };\r\n    if (/(y+)/.test(fmt)) {\r\n      fmt = fmt.replace(RegExp.$1, (getDate.getFullYear() + '').substr(4 - RegExp.$1.length))\r\n    }\r\n    for (let k in o) {\r\n      if (new RegExp('(' + k + ')').test(fmt)) {\r\n        fmt = fmt.replace(RegExp.$1, (RegExp.$1.length === 1) ? (o[k]) : (('00' + o[k]).substr(('' + o[k]).length)))\r\n      }\r\n    }\r\n    return fmt;\r\n  }else{\r\n    //TODO\r\n    value = value.trim();\r\n    return value.substr(0,fmt.length);\r\n  }\r\n}\r\n\r\n// 生成首页路由\r\nexport function generateIndexRouter(data) {\r\nlet indexRouter = [{\r\n          path: '/',\r\n          name: 'dashboard',\r\n          //component: () => import('@/components/layouts/BasicLayout'),\r\n          component: resolve => require(['@/components/layouts/TabLayout'], resolve),\r\n          meta: { title: '首页' },\r\n          redirect: '/dashboard/analysis',\r\n          children: [\r\n            ...generateChildRouters(data)\r\n          ]\r\n        },{\r\n          \"path\": \"*\", \"redirect\": \"/404\", \"hidden\": true\r\n        }]\r\n  return indexRouter;\r\n}\r\n\r\n// 生成嵌套路由（子路由）\r\n\r\nfunction  generateChildRouters (data) {\r\n  const routers = [];\r\n  for (var item of data) {\r\n    let component = \"\";\r\n    if(item.component.indexOf(\"layouts\")>=0){\r\n       component = \"components/\"+item.component;\r\n    }else{\r\n       component = \"views/\"+item.component;\r\n    }\r\n\r\n    // eslint-disable-next-line\r\n    let URL = (item.meta.url|| '').replace(/{{([^}}]+)?}}/g, (s1, s2) => eval(s2)) // URL支持{{ window.xxx }}占位符变量\r\n    if (isURL(URL)) {\r\n      item.meta.url = URL;\r\n    }\r\n\r\n    let menu =  {\r\n      path: item.path,\r\n      name: item.name,\r\n      redirect:item.redirect,\r\n      component: resolve => require(['@/' + component+'.vue'], resolve),\r\n      hidden:item.hidden,\r\n      //component:()=> import(`@/views/${item.component}.vue`),\r\n      meta: {\r\n        title:item.meta.title ,\r\n        icon: item.meta.icon,\r\n        url:item.meta.url ,\r\n        permissionList:item.meta.permissionList,\r\n        keepAlive:item.meta.keepAlive,\r\n        /*update_begin author:wuxianquan date:20190908 for:赋值 */\r\n        internalOrExternal:item.meta.internalOrExternal\r\n        /*update_end author:wuxianquan date:20190908 for:赋值 */\r\n      }\r\n    }\r\n    if(item.alwaysShow){\r\n      menu.alwaysShow = true;\r\n      menu.redirect = menu.path;\r\n    }\r\n    if (item.children && item.children.length > 0) {\r\n      menu.children = [...generateChildRouters( item.children)];\r\n    }\r\n    //--update-begin----author:scott---date:20190320------for:根据后台菜单配置，判断是否路由菜单字段，动态选择是否生成路由（为了支持参数URL菜单）------\r\n    //判断是否生成路由\r\n    if(item.route && item.route === '0'){\r\n      //console.log(' 不生成路由 item.route：  '+item.route);\r\n      //console.log(' 不生成路由 item.path：  '+item.path);\r\n    }else{\r\n      routers.push(menu);\r\n    }\r\n    //--update-end----author:scott---date:20190320------for:根据后台菜单配置，判断是否路由菜单字段，动态选择是否生成路由（为了支持参数URL菜单）------\r\n  }\r\n  return routers\r\n}\r\n\r\n/**\r\n * 深度克隆对象、数组\r\n * @param obj 被克隆的对象\r\n * @return 克隆后的对象\r\n */\r\nexport function cloneObject(obj) {\r\n  return JSON.parse(JSON.stringify(obj))\r\n}\r\n\r\n/**\r\n * 随机生成数字\r\n *\r\n * 示例：生成长度为 12 的随机数：randomNumber(12)\r\n * 示例：生成 3~23 之间的随机数：randomNumber(3, 23)\r\n *\r\n * @param1 最小值 | 长度\r\n * @param2 最大值\r\n * @return int 生成后的数字\r\n */\r\nexport function randomNumber() {\r\n  // 生成 最小值 到 最大值 区间的随机数\r\n  const random = (min, max) => {\r\n    return Math.floor(Math.random() * (max - min + 1) + min)\r\n  }\r\n  if (arguments.length === 1) {\r\n    let [length] = arguments\r\n  // 生成指定长度的随机数字，首位一定不是 0\r\n    let nums = [...Array(length).keys()].map((i) => (i > 0 ? random(0, 9) : random(1, 9)))\r\n    return parseInt(nums.join(''))\r\n  } else if (arguments.length >= 2) {\r\n    let [min, max] = arguments\r\n    return random(min, max)\r\n  } else {\r\n    return Number.NaN\r\n  }\r\n}\r\n\r\n/**\r\n * 随机生成字符串\r\n * @param length 字符串的长度\r\n * @param chats 可选字符串区间（只会生成传入的字符串中的字符）\r\n * @return string 生成的字符串\r\n */\r\nexport function randomString(length, chats) {\r\n  if (!length) length = 1\r\n  if (!chats) chats = '0123456789qwertyuioplkjhgfdsazxcvbnm'\r\n  let str = ''\r\n  for (let i = 0; i < length; i++) {\r\n    let num = randomNumber(0, chats.length - 1)\r\n    str += chats[num]\r\n  }\r\n  return str\r\n}\r\n\r\n/**\r\n * 随机生成uuid\r\n * @return string 生成的uuid\r\n */\r\nexport function randomUUID() {\r\n  let chats = '0123456789abcdef'\r\n  return randomString(32, chats)\r\n}\r\n\r\n/**\r\n * 下划线转驼峰\r\n * @param string\r\n * @returns {*}\r\n */\r\nexport function underLine2CamelCase(string){\r\n  return string.replace( /_([a-z])/g, function( all, letter ) {\r\n    return letter.toUpperCase();\r\n  });\r\n}\r\n\r\n/**\r\n * 判断是否显示办理按钮\r\n * @param bpmStatus\r\n * @returns {*}\r\n */\r\nexport function showDealBtn(bpmStatus){\r\n  if(bpmStatus!=\"1\"&&bpmStatus!=\"3\"&&bpmStatus!=\"4\"){\r\n    return true;\r\n  }\r\n  return false;\r\n}\r\n\r\n/**\r\n * 增强CSS，可以在页面上输出全局css\r\n * @param css 要增强的css\r\n * @param id style标签的id，可以用来清除旧样式\r\n */\r\nexport function cssExpand(css, id) {\r\n  let style = document.createElement('style')\r\n  style.type = \"text/css\"\r\n  style.innerHTML = `@charset \"UTF-8\"; ${css}`\r\n  // 清除旧样式\r\n  if (id) {\r\n    let $style = document.getElementById(id)\r\n    if ($style != null) $style.outerHTML = ''\r\n    style.id = id\r\n  }\r\n  // 应用新样式\r\n  document.head.appendChild(style)\r\n}\r\n\r\n\r\n/** 用于js增强事件，运行JS代码，可以传参 */\r\n// options 所需参数：\r\n//    参数名         类型            说明\r\n//    vm             VueComponent    vue实例\r\n//    event          Object          event对象\r\n//    jsCode         String          待执行的js代码\r\n//    errorMessage   String          执行出错后的提示（控制台）\r\nexport function jsExpand(options = {}) {\r\n\r\n  // 绑定到window上的keyName\r\n  let windowKeyName = 'J_CLICK_EVENT_OPTIONS'\r\n  if (typeof window[windowKeyName] != 'object') {\r\n    window[windowKeyName] = {}\r\n  }\r\n\r\n  // 随机生成JS增强的执行id，防止冲突\r\n  let id = randomString(16, 'qwertyuioplkjhgfdsazxcvbnm'.toUpperCase())\r\n  // 封装按钮点击事件\r\n  let code = `\r\n    (function (o_${id}) {\r\n      try {\r\n        (function (globalEvent, vm) {\r\n          ${options.jsCode}\r\n        })(o_${id}.event, o_${id}.vm)\r\n      } catch (e) {\r\n        o_${id}.error(e)\r\n      }\r\n      o_${id}.done()\r\n    })(window['${windowKeyName}']['EVENT_${id}'])\r\n  `\r\n  // 创建script标签\r\n  const script = document.createElement('script')\r\n  // 将需要传递的参数挂载到window对象上\r\n  window[windowKeyName]['EVENT_' + id] = {\r\n    vm: options.vm,\r\n    event: options.event,\r\n    // 当执行完成时，无论如何都会调用的回调事件\r\n    done() {\r\n      // 执行完后删除新增的 script 标签不会撤销执行结果（已产生的结果不会被撤销）\r\n      script.outerHTML = ''\r\n      delete window[windowKeyName]['EVENT_' + id]\r\n    },\r\n    // 当js运行出错的时候调用的事件\r\n    error(e) {\r\n      console.group(`${options.errorMessage || '用户自定义JS增强代码运行出错'}（${new Date()}）`)\r\n      console.error(e)\r\n      console.groupEnd()\r\n    }\r\n  }\r\n  // 将事件挂载到document中\r\n  script.innerHTML = code\r\n  document.body.appendChild(script)\r\n}\r\n\r\n\r\n/**\r\n * 重复值验证工具方法\r\n *\r\n * 使用示例：\r\n * { validator: (rule, value, callback) => validateDuplicateValue('sys_fill_rule', 'rule_code', value, this.model.id, callback) }\r\n *\r\n * @param tableName 被验证的表名\r\n * @param fieldName 被验证的字段名\r\n * @param fieldVal 被验证的值\r\n * @param dataId 数据ID，可空\r\n * @param callback\r\n */\r\nexport function validateDuplicateValue(tableName, fieldName, fieldVal, dataId, callback) {\r\n  if (fieldVal) {\r\n    let params = { tableName, fieldName, fieldVal, dataId }\r\n    api.duplicateCheck(params).then(res => {\r\n      res['success'] ? callback() : callback(res['message'])\r\n    }).catch(err => {\r\n      callback(err.message || err)\r\n    })\r\n  } else {\r\n    callback()\r\n  }\r\n}\r\n\r\n/**\r\n * 根据编码校验规则code，校验传入的值是否合法\r\n *\r\n * 使用示例：\r\n * { validator: (rule, value, callback) => validateCheckRule('common', value, callback) }\r\n *\r\n * @param ruleCode 编码校验规则 code\r\n * @param value 被验证的值\r\n * @param callback\r\n */\r\nexport function validateCheckRule(ruleCode, value, callback) {\r\n  if (ruleCode && value) {\r\n    value = encodeURIComponent(value)\r\n    api.checkRuleByCode({ ruleCode, value }).then(res => {\r\n      res['success'] ? callback() : callback(res['message'])\r\n    }).catch(err => {\r\n      callback(err.message || err)\r\n    })\r\n  } else {\r\n    callback()\r\n  }\r\n}\r\n\r\n/**\r\n * 如果值不存在就 push 进数组，反之不处理\r\n * @param array 要操作的数据\r\n * @param value 要添加的值\r\n * @param key 可空，如果比较的是对象，可能存在地址不一样但值实际上是一样的情况，可以传此字段判断对象中唯一的字段，例如 id。不传则直接比较实际值\r\n * @returns {boolean} 成功 push 返回 true，不处理返回 false\r\n */\r\nexport function pushIfNotExist(array, value, key) {\r\n  for (let item of array) {\r\n    if (key && (item[key] === value[key])) {\r\n      return false\r\n    } else if (item === value) {\r\n      return false\r\n    }\r\n  }\r\n  array.push(value)\r\n  return true\r\n}\r\n\r\n/**\r\n * 可用于判断是否成功\r\n * @type {symbol}\r\n */\r\nexport const succeedSymbol = Symbol()\r\n/**\r\n * 可用于判断是否失败\r\n * @type {symbol}\r\n */\r\nexport const failedSymbol = Symbol()\r\n\r\n/**\r\n * 使 promise 无论如何都会 resolve，除非传入的参数不是一个Promise对象或返回Promise对象的方法\r\n * 一般用在 Promise.all 中\r\n *\r\n * @param promise 可传Promise对象或返回Promise对象的方法\r\n * @returns {Promise<any>}\r\n */\r\nexport function alwaysResolve(promise) {\r\n  return new Promise((resolve, reject) => {\r\n    let p = promise\r\n    if (typeof promise === 'function') {\r\n      p = promise()\r\n    }\r\n    if (p instanceof Promise) {\r\n      p.then(data => {\r\n        resolve({ type: succeedSymbol, data })\r\n      }).catch(error => {\r\n        resolve({ type: failedSymbol, error })\r\n      })\r\n    } else {\r\n      reject('alwaysResolve: 传入的参数不是一个Promise对象或返回Promise对象的方法')\r\n    }\r\n  })\r\n}"]}]}