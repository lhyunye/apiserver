{"remainingRequest":"E:\\gitData\\wangfuj\\jeecg-boot\\ant-design-vue-jeecg\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\gitData\\wangfuj\\jeecg-boot\\ant-design-vue-jeecg\\src\\components\\jeecg\\JSlider.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\gitData\\wangfuj\\jeecg-boot\\ant-design-vue-jeecg\\src\\components\\jeecg\\JSlider.vue","mtime":1618453704897},{"path":"E:\\gitData\\wangfuj\\jeecg-boot\\ant-design-vue-jeecg\\node_modules\\babel-loader\\lib\\index.js","mtime":1618457261991},{"path":"E:\\gitData\\wangfuj\\jeecg-boot\\ant-design-vue-jeecg\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1605147250913},{"path":"E:\\gitData\\wangfuj\\jeecg-boot\\ant-design-vue-jeecg\\node_modules\\vue-loader\\lib\\index.js","mtime":1618457253212}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  name:\"JSlider\",\n  data(){\n    return {\n      beginClientX:0,           /*距离屏幕左端距离*/\n      mouseMoveStata:false,     /*触发拖动状态  判断*/\n      maxwidth:'',               /*拖动最大宽度，依据滑块宽度算出来的*/\n      confirmWords:'拖动滑块验证',   /*滑块文字*/\n      confirmSuccess:false           /*验证成功判断*/\n    }\n  },\n  methods: {\n    isSuccess(){\n      return this.confirmSuccess\n    },\n    mousedownFn:function (e) {\n      if(!this.confirmSuccess){\n        e.preventDefault && e.preventDefault();   //阻止文字选中等 浏览器默认事件\n        this.mouseMoveStata = true;\n        this.beginClientX = e.clientX;\n      }\n    },        //mousedoen 事件\n    successFunction(){\n      this.confirmSuccess = true\n      this.confirmWords = '验证通过';\n      if(window.addEventListener){\n        document.getElementsByTagName('html')[0].removeEventListener('mousemove',this.mouseMoveFn);\n        document.getElementsByTagName('html')[0].removeEventListener('mouseup',this.moseUpFn);\n      }else {\n        document.getElementsByTagName('html')[0].removeEventListener('mouseup',()=>{});\n      }\n      document.getElementsByClassName('drag_text')[0].style.color = '#fff'\n      document.getElementsByClassName('handler')[0].style.left = this.maxwidth + 'px';\n      document.getElementsByClassName('drag_bg')[0].style.width = this.maxwidth + 'px';\n\n      this.$emit(\"onSuccess\",true)\n    },                //验证成功函数\n    mouseMoveFn(e){\n      if(this.mouseMoveStata){\n        let width = e.clientX - this.beginClientX;\n        if(width>0 && width<=this.maxwidth){\n          document.getElementsByClassName('handler')[0].style.left = width + 'px';\n          document.getElementsByClassName('drag_bg')[0].style.width = width + 'px';\n        }else if(width>this.maxwidth){\n          this.successFunction();\n        }\n      }\n    },                   //mousemove事件\n    moseUpFn(e){\n      this.mouseMoveStata = false;\n      var width = e.clientX - this.beginClientX;\n      if(width<this.maxwidth){\n        // ---- update-begin- author:sunjianlei --- date:20191009 --- for: 修复获取不到 handler 的时候报错 ----\n        let handler = document.getElementsByClassName('handler')[0]\n        if (handler) {\n          handler.style.left = 0 + 'px'\n          document.getElementsByClassName('drag_bg')[0].style.width = 0 + 'px'\n        }\n        // ---- update-end- author:sunjianlei --- date:20191009 --- for: 修复获取不到 handler 的时候报错 ----\n      }\n    }                       //mouseup事件\n  },\n  mounted(){\n    this.maxwidth = this.$refs.dragDiv.clientWidth - this.$refs.moveDiv.clientWidth;\n    document.getElementsByTagName('html')[0].addEventListener('mousemove',this.mouseMoveFn);\n    document.getElementsByTagName('html')[0].addEventListener('mouseup',this.moseUpFn)\n  }\n}\n",null]}