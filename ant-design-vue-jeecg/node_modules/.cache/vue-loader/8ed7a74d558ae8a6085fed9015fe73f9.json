{"remainingRequest":"E:\\gitData\\wangfuj\\jeecg-boot\\ant-design-vue-jeecg\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\gitData\\wangfuj\\jeecg-boot\\ant-design-vue-jeecg\\src\\views\\jeecg\\tablist\\JeecgOrderTicketList.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\gitData\\wangfuj\\jeecg-boot\\ant-design-vue-jeecg\\src\\views\\jeecg\\tablist\\JeecgOrderTicketList.vue","mtime":1618453704962},{"path":"E:\\gitData\\wangfuj\\jeecg-boot\\ant-design-vue-jeecg\\node_modules\\babel-loader\\lib\\index.js","mtime":1618457261991},{"path":"E:\\gitData\\wangfuj\\jeecg-boot\\ant-design-vue-jeecg\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1605147250913},{"path":"E:\\gitData\\wangfuj\\jeecg-boot\\ant-design-vue-jeecg\\node_modules\\vue-loader\\lib\\index.js","mtime":1618457253212}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport JeecgOrderTicketModal from './form/JeecgOrderTicketModal'\nimport {JeecgListMixin} from '@/mixins/JeecgListMixin'\nimport {getAction} from '@/api/manage'\n\nexport default {\n  name: \"JeecgOrderTicketList\",\n  mixins: [JeecgListMixin],\n  components: {\n    JeecgOrderTicketModal,\n  },\n  data() {\n    return {\n      description: '机票信息',\n      // 表头\n      columns: [{\n        title: '航班号',\n        align: \"center\",\n        dataIndex: 'ticketCode'\n      }, {\n        title: '航班时间',\n        align: \"center\",\n        dataIndex: 'tickectDate'\n      }, {\n        title: '订单号码',\n        align: \"center\",\n        dataIndex: 'orderId',\n      }, {\n        title: '创建人',\n        align: \"center\",\n        dataIndex: 'createBy'\n      }, {\n        title: '创建时间',\n        align: \"center\",\n        dataIndex: 'createTime',\n        sorter: true\n      }, {\n        title: '操作',\n        key: 'operation',\n        align: \"center\",\n        width: 130,\n        scopedSlots: {customRender: 'action'},\n      }],\n      url: {\n        list: \"/test/order/listOrderTicketByMainId\",\n        delete: \"/test/order/deleteTicket\",\n        deleteBatch: \"/test/order/deleteBatchTicket\",\n      }\n    }\n  },\n  methods: {\n    loadData(arg) {\n      if (arg === 1) {\n        this.ipagination.current = 1;\n      }\n      var params = this.getQueryParams();\n      //update-begin--Author:kangxiaolin  Date:20190905 for：[442]主子表分开维护，生成的代码子表的分页改为真实的分页--------------------\n      getAction(this.url.list, {orderId: params.mainId ,pageNo : this.ipagination.current,\n        pageSize :this.ipagination.pageSize}).then((res) => {\n        if (res.success) {\n          this.dataSource = res.result.records;\n          this.ipagination.total = res.result.total;\n        } else {\n          this.dataSource = null;\n        }\n      })\n      //update-end--Author:kangxiaolin  Date:20190905 for：[442]主子表分开维护，生成的代码子表的分页改为真实的分页--------------------\n    },\n    getOrderMain(orderId) {\n      this.queryParam.mainId = orderId;\n      this.loadData(1);\n    },\n    handleAdd: function () {\n      this.$refs.modalForm.add(this.queryParam.mainId);\n      this.$refs.modalForm.title = \"添加机票信息\";\n    },\n  }\n}\n",null]}