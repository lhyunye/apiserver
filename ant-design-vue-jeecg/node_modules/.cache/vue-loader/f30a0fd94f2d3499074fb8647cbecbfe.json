{"remainingRequest":"E:\\gitData\\wangfuj\\jeecg-boot\\ant-design-vue-jeecg\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\gitData\\wangfuj\\jeecg-boot\\ant-design-vue-jeecg\\src\\views\\jeecg\\tablist\\JeecgOrderCustomerList.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\gitData\\wangfuj\\jeecg-boot\\ant-design-vue-jeecg\\src\\views\\jeecg\\tablist\\JeecgOrderCustomerList.vue","mtime":1618453704961},{"path":"E:\\gitData\\wangfuj\\jeecg-boot\\ant-design-vue-jeecg\\node_modules\\babel-loader\\lib\\index.js","mtime":1618457261991},{"path":"E:\\gitData\\wangfuj\\jeecg-boot\\ant-design-vue-jeecg\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1605147250913},{"path":"E:\\gitData\\wangfuj\\jeecg-boot\\ant-design-vue-jeecg\\node_modules\\vue-loader\\lib\\index.js","mtime":1618457253212}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport JeecgOrderCustomerModal from './form/JeecgOrderCustomerModal'\nimport JeecgOrderDMainList from './JeecgOrderDMainList'\nimport {JeecgListMixin} from '@/mixins/JeecgListMixin'\nimport {getAction} from '@/api/manage'\n\nexport default {\n  name: \"JeecgOrderCustomerList\",\n  mixins: [JeecgListMixin],\n  components: {\n    JeecgOrderDMainList,\n    JeecgOrderCustomerModal\n  },\n  data() {\n    return {\n      description: '订单客户信息',\n      // 表头\n      columns: [\n        {\n          title: '客户名',\n          align: \"center\",\n          width: 100,\n          dataIndex: 'name',\n          key: 'name',\n        },\n        {\n          title: '性别',\n          align: \"center\",\n          dataIndex: 'sex',\n          customRender: function (text) {\n            if (text == 1) {\n              return \"男\";\n            } else if (text == 2) {\n              return \"女\";\n            } else {\n              return text;\n            }\n          }\n        },\n        {\n          title: '身份证号码',\n          align: \"center\",\n          dataIndex: 'idcard',\n        },\n        {\n          title: '电话',\n          dataIndex: 'telphone',\n          align: \"center\",\n        },\n        {\n          title: '操作',\n          key: 'operation',\n          align: 'center',\n          width: 130,\n          scopedSlots: {customRender: 'action'},\n        },\n      ],\n      url: {\n        list: \"/test/order/listOrderCustomerByMainId\",\n        delete: \"/test/order/deleteCustomer\",\n        deleteBatch: \"/test/order/deleteBatchCustomer\",\n      }\n    }\n  },\n  methods: {\n    loadData(arg) {\n      if (arg === 1) {\n        this.ipagination.current = 1;\n      }\n      //update-begin--Author:kangxiaolin  Date:20190905 for：[442]主子表分开维护，生成的代码子表的分页改为真实的分页--------------------\n      var params = this.getQueryParams();\n      getAction(this.url.list, {orderId: params.mainId, pageNo : this.ipagination.current,\n        pageSize :this.ipagination.pageSize}).then((res) => {\n        if (res.success) {\n          this.dataSource = res.result.records;\n          this.ipagination.total = res.result.total;\n        } else {\n          this.dataSource = null;\n        }\n      })\n      //update-end--Author:kangxiaolin  Date:20190905 for：[442]主子表分开维护，生成的代码子表的分页改为真实的分页--------------------\n\n    },\n    getOrderMain(orderId) {\n      this.queryParam.mainId = orderId;\n      this.loadData(1);\n    },\n    handleAdd: function () {\n      this.$refs.modalForm.add(this.queryParam.mainId);\n      this.$refs.modalForm.title = \"添加客户信息\";\n    },\n  }\n}\n",null]}